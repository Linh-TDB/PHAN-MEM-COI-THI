
    <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../../../server/database/images/favicon.ico?v=1" type="image/x-icon">
    <title>PHẦN MỀM COI THI</title>
    <style>
    * {
    transition-duration: 0.5s;
}

body {
    font-family: 'Times New Roman', Times, serif;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0vw 5vw;
    overflow-x: hidden;
}

#main-form {
    display: none;
    font-weight: bold;
}

.display-id {
    width: 5vw;
    font-size: 1.10vw;
    text-align: center;
    border: 1px solid black;
    padding: 0px;
    cursor: pointer;
}

img {
    height: 5vw;
    width: 4vw;
    font-weight: lighter;
    font-size: 1vw;
}

caption {
    font-family: inherit;
    text-align: center;
    font-weight: bold;
    font-size: 1vw;
}

table {
    font-weight: bold;
    font-size: 2vw;
    border-spacing: 3.5vw 0.10vw;
    margin: auto;
}
 

th {
    text-transform: uppercase;
}

#time-section {
    width: 25vw;
    display: flex;
    height: 3vw;
    margin: 0.5vw;
    padding: 0px;
}

#start,
#progress-bar,
#end {
    border: 1px solid black;
    height: 100%;
}

#start,
#end {
    width: 10%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0vw 0.5vw;
}

#progress-bar {
    width: 80%;
}

#progress {
    height: 100%;
    width: 0%;
    background-color: rgb(0, 153, 255);
    transition: width 2s linear 1s;
}


#real-time {
    height: 2vw;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0px;
    padding: 0px;
}
#users {
    border: 1px solid black;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 2vw;
}
#users input {
    outline: none;
    margin: 0.5vw 0vw;
}

#username {
    margin-right: 3vw;
}

#post-cred {
    border-radius: 0;
    padding: 1vw;
    cursor: pointer;
}

#post-cred:active {
    background-color: #2ae082;
} 
    </style>

<body>
    <div id="main-form">
        <div style="display: flex;">
            <div>
                <div
                    style="display: flex; flex-direction: column; justify-content: center; align-items: center; line-height: 2vw; margin-bottom: 1vw;">
                    <span>ỦY BAN NHÂN DÂN QUẬN 6</span>
                    <span>TRƯỜNG THCS 1</span>
                </div>
                <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;">
                    <span>THI 2</span>
                    <span>KHỐI: 2</span>
                    <span style="margin: 0.75vw;">MÔN: 2</span>
                    <span>PHÒNG: <span id="room-name"></span> </span> <br>
                    <span style="text-align: center;">NGÀY 31 THÁNG 10 NĂM 2023 <br> THỜI GIAN: 1 PHÚT</span>
                </div>
                <div>
                    <h1 id="time-runout" style="text-align: center; color: crimson; display: none;">! HẾT GIỜ LÀM BÀI!
                    </h1>
                </div>
                <div>
                    <div id="real-time">
                    </div>
                    <div>
                        <div id="time-section" class="time">
                            <div id="start" class="time"></div>
                            <div id="progress-bar" class="time">
                                <div id="progress"></div>
                            </div>
                            <div id="end" class="time"></div>
                        </div>                        
                        <span>Thí sinh vắng thi: </span><br>
                        <span style="margin-right: 1vw;">SBD</span>
                        <span>Họ và tên</span>
                        <div id="absent">
                        </div>
                    </div>
                </div>
            </div>
            <div style ="margin-left: 7vw;">
                <div style="display: block;">
                    <hr>
                    <div id="room-list">
                        
        <hr>
        <table id="room_1">
            <caption style="text-align: center; font-size: 1.5vw; width:100%;">PHÒNG 1 SƠ ĐỒ CHỖ NGỒI THÍ SINH</caption>
        
            <tbody><tr id="room-1-row-1"><td class="display-id" id="room-1-cell-1">A002<img src="../../../server/database/photos/A002.jpg" alt="A002"></td><td class="display-id" id="room-1-cell-2">A001<img src="../../../server/database/photos/A001.jpg" alt="A001"></td><td class="display-id" id="room-1-cell-3">A014<img src="../../../server/database/photos/A014.jpg" alt="A014"></td><td class="display-id" id="room-1-cell-4">A015<img src="../../../server/database/photos/A015.jpg" alt="A015"></td></tr>
            </tbody>
            <tbody><tr id="room-1-row-2"><td class="display-id" id="room-1-cell-5">A003<img src="../../../server/database/photos/A003.jpg" alt="A003"></td><td class="display-id" id="room-1-cell-6">A004<img src="../../../server/database/photos/A004.jpg" alt="A004"></td><td class="display-id" id="room-1-cell-7">A015<img src="../../../server/database/photos/A015.jpg" alt="A015"></td><td class="display-id" id="room-1-cell-8">A016<img src="../../../server/database/photos/A016.jpg" alt="A016"></td></tr>
            </tbody>
            <tbody><tr id="room-1-row-3"><td class="display-id" id="room-1-cell-9">A006<img src="../../../server/database/photos/A006.jpg" alt="A006"></td><td class="display-id" id="room-1-cell-10">A005<img src="../../../server/database/photos/A005.jpg" alt="A005"></td><td class="display-id" id="room-1-cell-11">A018<img src="../../../server/database/photos/A018.jpg" alt="A018"></td><td class="display-id" id="room-1-cell-12">A017<img src="../../../server/database/photos/A017.jpg" alt="A017"></td></tr>
            </tbody>
            <tbody><tr id="room-1-row-4"><td class="display-id" id="room-1-cell-13">A007<img src="../../../server/database/photos/A007.jpg" alt="A007"></td><td class="display-id" id="room-1-cell-14">A008<img src="../../../server/database/photos/A008.jpg" alt="A008"></td><td class="display-id" id="room-1-cell-15">A019<img src="../../../server/database/photos/A019.jpg" alt="A019"></td><td class="display-id" id="room-1-cell-16">A020<img src="../../../server/database/photos/A020.jpg" alt="A020"></td></tr>
            </tbody>
            <tbody><tr id="room-1-row-5"><td class="display-id" id="room-1-cell-17">A010<img src="../../../server/database/photos/A010.jpg" alt="A010"></td><td class="display-id" id="room-1-cell-18">A009<img src="../../../server/database/photos/A009.jpg" alt="A009"></td><td class="display-id" id="room-1-cell-19">A022<img src="../../../server/database/photos/A022.jpg" alt="A022"></td><td class="display-id" id="room-1-cell-20">A021<img src="../../../server/database/photos/A021.jpg" alt="A021"></td></tr>
            </tbody>
            <tbody><tr id="room-1-row-6"><td class="display-id" id="room-1-cell-21">A011<img src="../../../server/database/photos/A011.jpg" alt="A011"></td><td class="display-id" id="room-1-cell-22">A012<img src="../../../server/database/photos/A012.jpg" alt="A012"></td><td class="display-id" id="room-1-cell-23">A023<img src="../../../server/database/photos/A023.jpg" alt="A023"></td><td class="display-id" id="room-1-cell-24">A024<img src="../../../server/database/photos/A024.jpg" alt="A024"></td></tr>
            </tbody></table>
        
        <hr>
        <table id="room_2">
            <caption style="text-align: center; font-size: 1.5vw; width:100%;">PHÒNG 2 SƠ ĐỒ CHỖ NGỒI THÍ SINH</caption>
        
            <tbody><tr id="room-2-row-1"><td class="display-id" id="room-2-cell-1">A026<img src="../../../server/database/photos/A026.jpg" alt="A026"></td><td class="display-id" id="room-2-cell-2">A025<img src="../../../server/database/photos/A025.jpg" alt="A025"></td><td class="display-id" id="room-2-cell-3">A038<img src="../../../server/database/photos/A038.jpg" alt="A038"></td><td class="display-id" id="room-2-cell-4">A039<img src="../../../server/database/photos/A039.jpg" alt="A039"></td></tr>
            </tbody>
            <tbody><tr id="room-2-row-2"><td class="display-id" id="room-2-cell-5">A027<img src="../../../server/database/photos/A027.jpg" alt="A027"></td><td class="display-id" id="room-2-cell-6">A028<img src="../../../server/database/photos/A028.jpg" alt="A028"></td><td class="display-id" id="room-2-cell-7">A039<img src="../../../server/database/photos/A039.jpg" alt="A039"></td><td class="display-id" id="room-2-cell-8">A040<img src="../../../server/database/photos/A040.jpg" alt="A040"></td></tr>
            </tbody>
            <tbody><tr id="room-2-row-3"><td class="display-id" id="room-2-cell-9">A030<img src="../../../server/database/photos/A030.jpg" alt="A030"></td><td class="display-id" id="room-2-cell-10">A029<img src="../../../server/database/photos/A029.jpg" alt="A029"></td><td class="display-id" id="room-2-cell-11">A042<img src="../../../server/database/photos/A042.jpg" alt="A042"></td><td class="display-id" id="room-2-cell-12">A041<img src="../../../server/database/photos/A041.jpg" alt="A041"></td></tr>
            </tbody>
            <tbody><tr id="room-2-row-4"><td class="display-id" id="room-2-cell-13">A031<img src="../../../server/database/photos/A031.jpg" alt="A031"></td><td class="display-id" id="room-2-cell-14">A032<img src="../../../server/database/photos/A032.jpg" alt="A032"></td><td class="display-id" id="room-2-cell-15">A043<img src="../../../server/database/photos/A043.jpg" alt="A043"></td><td class="display-id" id="room-2-cell-16">A044<img src="../../../server/database/photos/A044.jpg" alt="A044"></td></tr>
            </tbody>
            <tbody><tr id="room-2-row-5"><td class="display-id" id="room-2-cell-17">A034<img src="../../../server/database/photos/A034.jpg" alt="A034"></td><td class="display-id" id="room-2-cell-18">A033<img src="../../../server/database/photos/A033.jpg" alt="A033"></td><td class="display-id" id="room-2-cell-19">A046<img src="../../../server/database/photos/A046.jpg" alt="A046"></td><td class="display-id" id="room-2-cell-20">A045<img src="../../../server/database/photos/A045.jpg" alt="A045"></td></tr>
            </tbody>
            <tbody><tr id="room-2-row-6"><td class="display-id" id="room-2-cell-21">A035<img src="../../../server/database/photos/A035.jpg" alt="A035"></td><td class="display-id" id="room-2-cell-22">A036<img src="../../../server/database/photos/A036.jpg" alt="A036"></td><td class="display-id" id="room-2-cell-23">A047<img src="../../../server/database/photos/A047.jpg" alt="A047"></td><td class="display-id" id="room-2-cell-24">A048<img src="../../../server/database/photos/A048.jpg" alt="A048"></td></tr>
            </tbody></table>
        
        <hr>
        <table id="room_3">
            <caption style="text-align: center; font-size: 1.5vw; width:100%;">PHÒNG 3 SƠ ĐỒ CHỖ NGỒI THÍ SINH</caption>
        
            <tbody><tr id="room-3-row-1"><td class="display-id" id="room-3-cell-1">A050<img src="../../../server/database/photos/A050.jpg" alt="A050"></td><td class="display-id" id="room-3-cell-2">A049<img src="../../../server/database/photos/A049.jpg" alt="A049"></td><td class="display-id" id="room-3-cell-3">A062<img src="../../../server/database/photos/A062.jpg" alt="A062"></td><td class="display-id" id="room-3-cell-4">A063<img src="../../../server/database/photos/A063.jpg" alt="A063"></td></tr>
            </tbody>
            <tbody><tr id="room-3-row-2"><td class="display-id" id="room-3-cell-5">A051<img src="../../../server/database/photos/A051.jpg" alt="A051"></td><td class="display-id" id="room-3-cell-6">A052<img src="../../../server/database/photos/A052.jpg" alt="A052"></td><td class="display-id" id="room-3-cell-7">A063<img src="../../../server/database/photos/A063.jpg" alt="A063"></td><td class="display-id" id="room-3-cell-8">A064<img src="../../../server/database/photos/A064.jpg" alt="A064"></td></tr>
            </tbody>
            <tbody><tr id="room-3-row-3"><td class="display-id" id="room-3-cell-9">A054<img src="../../../server/database/photos/A054.jpg" alt="A054"></td><td class="display-id" id="room-3-cell-10">A053<img src="../../../server/database/photos/A053.jpg" alt="A053"></td><td class="display-id" id="room-3-cell-11">A066<img src="../../../server/database/photos/A066.jpg" alt="A066"></td><td class="display-id" id="room-3-cell-12">A065<img src="../../../server/database/photos/A065.jpg" alt="A065"></td></tr>
            </tbody>
            <tbody><tr id="room-3-row-4"><td class="display-id" id="room-3-cell-13">A055<img src="../../../server/database/photos/A055.jpg" alt="A055"></td><td class="display-id" id="room-3-cell-14">A056<img src="../../../server/database/photos/A056.jpg" alt="A056"></td><td class="display-id" id="room-3-cell-15">A067<img src="../../../server/database/photos/A067.jpg" alt="A067"></td><td class="display-id" id="room-3-cell-16">A068<img src="../../../server/database/photos/A068.jpg" alt="A068"></td></tr>
            </tbody>
            <tbody><tr id="room-3-row-5"><td class="display-id" id="room-3-cell-17">A058<img src="../../../server/database/photos/A058.jpg" alt="A058"></td><td class="display-id" id="room-3-cell-18">A057<img src="../../../server/database/photos/A057.jpg" alt="A057"></td><td class="display-id" id="room-3-cell-19">A070<img src="../../../server/database/photos/A070.jpg" alt="A070"></td><td class="display-id" id="room-3-cell-20">A069<img src="../../../server/database/photos/A069.jpg" alt="A069"></td></tr>
            </tbody>
            <tbody><tr id="room-3-row-6"><td class="display-id" id="room-3-cell-21">A059<img src="../../../server/database/photos/A059.jpg" alt="A059"></td><td class="display-id" id="room-3-cell-22">A060<img src="../../../server/database/photos/A060.jpg" alt="A060"></td><td class="display-id" id="room-3-cell-23">A071<img src="../../../server/database/photos/A071.jpg" alt="A071"></td><td class="display-id" id="room-3-cell-24">A072<img src="../../../server/database/photos/A072.jpg" alt="A072"></td></tr>
            </tbody></table>
        
        <hr>
        <table id="room_4">
            <caption style="text-align: center; font-size: 1.5vw; width:100%;">PHÒNG 4 SƠ ĐỒ CHỖ NGỒI THÍ SINH</caption>
        
            <tbody><tr id="room-4-row-1"><td class="display-id" id="room-4-cell-1">A074<img src="../../../server/database/photos/A074.jpg" alt="A074"></td><td class="display-id" id="room-4-cell-2">A073<img src="../../../server/database/photos/A073.jpg" alt="A073"></td><td class="display-id" id="room-4-cell-3">A086<img src="../../../server/database/photos/A086.jpg" alt="A086"></td><td class="display-id" id="room-4-cell-4">A087<img src="../../../server/database/photos/A087.jpg" alt="A087"></td></tr>
            </tbody>
            <tbody><tr id="room-4-row-2"><td class="display-id" id="room-4-cell-5">A075<img src="../../../server/database/photos/A075.jpg" alt="A075"></td><td class="display-id" id="room-4-cell-6">A076<img src="../../../server/database/photos/A076.jpg" alt="A076"></td><td class="display-id" id="room-4-cell-7">A087<img src="../../../server/database/photos/A087.jpg" alt="A087"></td><td class="display-id" id="room-4-cell-8">A088<img src="../../../server/database/photos/A088.jpg" alt="A088"></td></tr>
            </tbody>
            <tbody><tr id="room-4-row-3"><td class="display-id" id="room-4-cell-9">A078<img src="../../../server/database/photos/A078.jpg" alt="A078"></td><td class="display-id" id="room-4-cell-10">A077<img src="../../../server/database/photos/A077.jpg" alt="A077"></td><td class="display-id" id="room-4-cell-11">A090<img src="../../../server/database/photos/A090.jpg" alt="A090"></td><td class="display-id" id="room-4-cell-12">A089<img src="../../../server/database/photos/A089.jpg" alt="A089"></td></tr>
            </tbody>
            <tbody><tr id="room-4-row-4"><td class="display-id" id="room-4-cell-13">A079<img src="../../../server/database/photos/A079.jpg" alt="A079"></td><td class="display-id" id="room-4-cell-14">A080<img src="../../../server/database/photos/A080.jpg" alt="A080"></td><td class="display-id" id="room-4-cell-15">A091<img src="../../../server/database/photos/A091.jpg" alt="A091"></td><td class="display-id" id="room-4-cell-16">A092<img src="../../../server/database/photos/A092.jpg" alt="A092"></td></tr>
            </tbody>
            <tbody><tr id="room-4-row-5"><td class="display-id" id="room-4-cell-17">A082<img src="../../../server/database/photos/A082.jpg" alt="A082"></td><td class="display-id" id="room-4-cell-18">A081<img src="../../../server/database/photos/A081.jpg" alt="A081"></td><td class="display-id" id="room-4-cell-19">A094<img src="../../../server/database/photos/A094.jpg" alt="A094"></td><td class="display-id" id="room-4-cell-20">A093<img src="../../../server/database/photos/A093.jpg" alt="A093"></td></tr>
            </tbody>
            <tbody><tr id="room-4-row-6"><td class="display-id" id="room-4-cell-21">A083<img src="../../../server/database/photos/A083.jpg" alt="A083"></td><td class="display-id" id="room-4-cell-22">A084<img src="../../../server/database/photos/A084.jpg" alt="A084"></td><td class="display-id" id="room-4-cell-23">A095<img src="../../../server/database/photos/A095.jpg" alt="A095"></td><td class="display-id" id="room-4-cell-24">A096<img src="../../../server/database/photos/A096.jpg" alt="A096"></td></tr>
            </tbody></table>
        
        <hr>
        <table id="room_5">
            <caption style="text-align: center; font-size: 1.5vw; width:100%;">PHÒNG 5 SƠ ĐỒ CHỖ NGỒI THÍ SINH</caption>
        
            <tbody><tr id="room-5-row-1"><td class="display-id" id="room-5-cell-1">A098<img src="../../../server/database/photos/A098.jpg" alt="A098"></td><td class="display-id" id="room-5-cell-2">A097<img src="../../../server/database/photos/A097.jpg" alt="A097"></td><td class="display-id" id="room-5-cell-3">A110<img src="../../../server/database/photos/A110.jpg" alt="A110"></td><td class="display-id" id="room-5-cell-4">A111<img src="../../../server/database/photos/A111.jpg" alt="A111"></td></tr>
            </tbody>
            <tbody><tr id="room-5-row-2"><td class="display-id" id="room-5-cell-5">A099<img src="../../../server/database/photos/A099.jpg" alt="A099"></td><td class="display-id" id="room-5-cell-6">A100<img src="../../../server/database/photos/A100.jpg" alt="A100"></td><td class="display-id" id="room-5-cell-7">A111<img src="../../../server/database/photos/A111.jpg" alt="A111"></td><td class="display-id" id="room-5-cell-8">A112<img src="../../../server/database/photos/A112.jpg" alt="A112"></td></tr>
            </tbody>
            <tbody><tr id="room-5-row-3"><td class="display-id" id="room-5-cell-9">A102<img src="../../../server/database/photos/A102.jpg" alt="A102"></td><td class="display-id" id="room-5-cell-10">A101<img src="../../../server/database/photos/A101.jpg" alt="A101"></td><td class="display-id" id="room-5-cell-11">A114<img src="../../../server/database/photos/A114.jpg" alt="A114"></td><td class="display-id" id="room-5-cell-12">A113<img src="../../../server/database/photos/A113.jpg" alt="A113"></td></tr>
            </tbody>
            <tbody><tr id="room-5-row-4"><td class="display-id" id="room-5-cell-13">A103<img src="../../../server/database/photos/A103.jpg" alt="A103"></td><td class="display-id" id="room-5-cell-14">A104<img src="../../../server/database/photos/A104.jpg" alt="A104"></td><td class="display-id" id="room-5-cell-15">A115<img src="../../../server/database/photos/A115.jpg" alt="A115"></td><td class="display-id" id="room-5-cell-16">A116<img src="../../../server/database/photos/A116.jpg" alt="A116"></td></tr>
            </tbody>
            <tbody><tr id="room-5-row-5"><td class="display-id" id="room-5-cell-17">A106<img src="../../../server/database/photos/A106.jpg" alt="A106"></td><td class="display-id" id="room-5-cell-18">A105<img src="../../../server/database/photos/A105.jpg" alt="A105"></td><td class="display-id" id="room-5-cell-19">A118<img src="../../../server/database/photos/A118.jpg" alt="A118"></td><td class="display-id" id="room-5-cell-20">A117<img src="../../../server/database/photos/A117.jpg" alt="A117"></td></tr>
            </tbody>
            <tbody><tr id="room-5-row-6"><td class="display-id" id="room-5-cell-21">A107<img src="../../../server/database/photos/A107.jpg" alt="A107"></td><td class="display-id" id="room-5-cell-22">A108<img src="../../../server/database/photos/A108.jpg" alt="A108"></td><td class="display-id" id="room-5-cell-23">A119<img src="../../../server/database/photos/A119.jpg" alt="A119"></td><td class="display-id" id="room-5-cell-24">A120<img src="../../../server/database/photos/A120.jpg" alt="A120"></td></tr>
            </tbody></table>
        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="users">
        <div style="display: flex;">
            <div id="users">
                <div style="display: flex;">
                    <div id="username">
                        <span>Tên phòng: </span> <br>
                        <input type="text" id="name">
                    </div>
                    <div id="password">
                        <span>Mật khẩu phòng: </span> <br>
                        <input type="password" id="pass">
                    </div>
                </div>
                <div>
                    <input type="button" value="SUBMIT" id="post-cred">
                </div>
            </div>
        </div>
    </div>
    <script type="module">
        var element = document.getElementsByTagName("hr"), index;
        const timeline = {"call-in-time-hour":"1","call-in-time-minute":"0","distribute-time-hour":"1","distribute-time-minute":"0","near-end-time":"5 phút"}
        const names = {"A001":"Nguyễn Quỳnh  An","A002":"Ngô Quỳnh  Anh","A003":"Nguyễn Ngọc Minh  Châu","A004":"Trương Khánh Quỳnh  Châu","A005":"Đỗ Phúc Nguyên  Chương","A006":"Đường Hạo  Dương","A007":"Tô Vĩnh  Hào","A008":"Dư Gia  Hân","A009":"Trần Nguyễn Gia  Hân","A010":"Đỗ Quang  Huy","A011":"Giang Bảo  Khanh","A012":"Đoàn Quang  Khánh","A013":"Võ Kiều Anh  Khôi","A014":"Trần Phúc  Lâm","A015":"Đặng Nguyễn Gia  Lộc","A016":"Lưu Hồng  Minh","A017":"Đào Hoàng Ngọc  My","A018":"Hồ Bảo  Ngân","A019":"Đoàn Hoàng Vĩnh  Nghi","A020":"Huỳnh Trần Thanh  Ngọc","A021":"Trần Thái Thảo  Nguyên","A022":"Võ Phúc  Nguyên","A023":"Trần Ngọc An  Nhi","A024":"Nguyễn Cát An  Nhiên","A025":"Nguyễn Mạnh  Phú","A026":"Lai Mỹ  Quỳnh","A027":"Vũ Quốc  Thái","A028":"Nguyễn Quỳnh  Thư","A029":"Vương Ái  Thư","A030":"Phạm Minh  Triết","A031":"Lê Trần Đức  Tuấn","A032":"Thái Lưu Đình  Tuyên","A033":"Bùi Quốc Khải  Tường","A034":"Lê Thiện  Vương","A035":"Đỗ Khánh  Vy","A036":"Trần Thiên  An","A037":"Nguyễn Ngọc Loan  Anh","A038":"Vũ Phạm Vân  Anh","A039":"Nguyễn Thành  Ân","A040":"Trần Ngọc Diệp  Chi","A041":"Bàng Bá  Cường","A042":"Lê Tiến  Dũng","A043":"Phạm Minh  Đăng","A044":"Lâm Gia  Hảo","A045":"Nguyễn Hữu Ngọc  Hân","A046":"Trần Hoàng Nhật  Huy","A047":"Nguyễn Duy Tuấn  Khang","A048":"Trần Nguyễn Quốc  Kiệt","A049":"Trần Minh  Kỳ","A050":"Nguyễn Trường  Long","A051":"Đinh Gia  Mẫn","A052":"Nguyễn Bảo  Nam","A053":"Trần Công Khánh  Nam","A054":"Ngô Hoàng Bảo  Nhi","A055":"Trương Mỹ  Nhung","A056":"Châu Ngọc Yến  Như","A057":"Nguyễn Thành  Phát","A058":"Phùng Hào  Phong","A059":"Nguyễn Ngọc Thanh  Phúc","A060":"Nguyễn Minh  Quân","A061":"Lưu Quốc  Thái","A062":"Nguyễn Ngọc Lan  Thanh","A063":"Phạm Bá  Thanh","A064":"Phan Minh  Thiên","A065":"Thới Nguyễn Vân  Trang","A066":"Lê Hoàng Bảo  Trân","A067":"Trần Phạm Bảo  Trân","A068":"Cao Thụy Thanh  Vân","A069":"Nguyễn Hoàng Thúy  Vy","A070":"Nguyễn Quỳnh Thiên  Ý","A071":"Võ Huỳnh Ngọc  Yến","A072":"Nguyễn Hoàng Thúy  An","A073":"Đỗ Hoàng  Anh","A074":"Võ Hoàng  Bảo","A075":"Vũ Nguyễn Trí  Dũng","A076":"Hoàng Minh  Đạt","A077":"Thái Lập  Đức","A078":"Phùng Nguyễn Ngọc  Hân","A079":"Đoàn Nguyễn Ngọc  Hiếu","A080":"Lâm Khải  Huy","A081":"Lâm Quốc  Huy","A082":"Ôn Vĩnh  Khang","A083":"Dương Quốc  Khánh","A084":"Trương Phú  Kiệt","A085":"Quách Ngọc  Lệ","A086":"Nguyễn Thuỳ  Linh","A087":"Phan Nguyễn Kim  Long","A088":"Quách Gia  Mẫn","A089":"Lương Thành  Minh","A090":"Nguyễn Khang  Minh","A091":"Nguyễn Hoàng Khánh  Ngân","A092":"Phan Hoàng Kim  Ngân","A093":"Dương Mỹ  Ngọc","A094":"Phạm Gia  Nguyệt","A095":"Giản Quế  Nhi","A096":"Trần Minh Quỳnh  Như","A097":"Lưu Hùng  Phong","A098":"Châu Hào  Phú","A099":"Huỳnh Thái Đông  Phương","A100":"Nguyễn Thị Ngọc  Quỳnh","A101":"Nguyễn Lê Vân  Thi","A102":"Nguyễn Ngọc Xuân  Trang","A103":"Đoàn Nhã  Trân","A104":"Lục Gia  Tuấn","A105":"Võ Hải  Vương","A106":"Nguyễn Kiều Thiên  Ý","A107":"Lê Trì Gia  An","A108":"Quan Trúc  Ân","A109":"Phan Ngọc Minh  Anh","A110":"Phạm Lê Hải  Băng","A111":"Nguyễn Ngọc Bảo  Châu","A112":"Lý Tôn  Đạt","A113":"Phòng Văn  Dũng","A114":"Huỳnh Ngọc  Hà","A115":"Vũ Hoàng Bảo  Hân","A116":"Lương Gia  Hào","A117":"Phan Đắc  Hoàng","A118":"Trần Tuấn  Huy","A119":"Lê Duy  Khang","A120":"Trần Gia  Lạc","A121":"Nguyễn Huỳnh Khánh  Lâm","A122":"Lương Khánh  Linh","A123":"Huỳnh Gia  Long","A124":"Lê Quang  Minh","A125":"Ô Kim  Mỹ","A126":"Vương Tuyết  Ngân","A127":"Lâm Phương  Nghi","A128":"Bùi Gia  Ngọc","A129":"Trang Hoàng  Nhân","A130":"Bùi Thị An  Nhiên","A131":"Nguyễn Thảo  Như","A132":"Châu Vĩnh  Phúc","A133":"Vương Ngô Kim  Phụng","A134":"Phạm Lê Kim  Phượng","A135":"Trần Hoàng  Quân","A136":"Nguyễn Hoàng Bảo  Tâm","A137":"Bùi Nhã  Thy","A138":"Lê Phạm Mây  Trắng","A139":"Hoàng Đức  Trường","A140":"Thái Minh  Tường","A141":"Nguyễn Ngọc Như  Ý"}
        let minBeforeStart = 5, runned = 0;
        let beginRunned = 0;
        let zone = 0, soundPath = "";
            if (timeline["near-end-time"] == "5 phút") {
                zone = 5;
                soundPath = "../../../server/database/sounds/near-end-5.mp3"
            }
            if (timeline["near-end-time"] == "15 phút") {
                zone = 15;
                soundPath = "../../../server/database/sounds/near-end-15.mp3"
            }
            if (timeline["near-end-time"] == "30 phút") {
                zone = 30;
                soundPath = "../../../server/database/sounds/near-end-30.mp3"
            }

        let absents = {

        }
        let called = [0, 0, 0]

        for (index = element.length - 1; index >= 0; index--) {
            element[index].parentNode.removeChild(element[index]);
        }    
        const creds = {"room_1":{"username":"room_1","password":"abc"},"room_2":{"username":"room_2","password":"abc"},"room_3":{"username":"room_3","password":"abc"},"room_4":{"username":"room_4","password":"abc"},"room_5":{"username":"room_5","password":"abc"}}
                document.getElementById("post-cred").addEventListener("click", () => {
                    let room_num = 1;
                    let name = document.getElementById("name").value.trim()
                    let pass = document.getElementById("pass").value.trim()
                    let known = false;
                    for (let obj in creds) {
                        let e = creds[obj]
                        if (e.username == name && e.password == pass) {
                            known = renderRoom(obj);
                            document.getElementById("room-name").innerHTML = room_num;
                            return;
                        }
                        room_num++;
                    }
                    if (known == false) alert("THÔNG TIN ĐĂNG NHẬP SAI")
                })


        function renderRoom (id){
            document.getElementById("main-form").style.display = "flex";
            document.getElementById("users").style.display = "none";
            let rooms = Object.keys(creds).length;
            for (let i = 1; i <= rooms; i++){
                let name = "room_" + i;
                if (name == id) continue;
                else {
                    document.getElementById(name).remove();
                }
            }
        }
        function formatTime(hour, min) {
            if (min < 10) return hour + ":0" + min;
            else return hour + ":" + min;
        }

        function announce(path) {
            let audio = new Audio(path);
            audio.play();
        }

        // man im ded
        function timeValue(h, m) {
            return h * 60 * 60 + m * 60;
        }

        function blastNearEnd(tn, te){
            if ((te - tn) <= zone*60){
                announce(soundPath)
                return 1;
            }
            return 0;
        }

        function getDiff(start_hour, start_min, end_hour, end_min, h, m, s) {
            let ts = timeValue(start_hour, start_min);
            let te = timeValue(end_hour, end_min);
            let tn = timeValue(h, m) + s;
            let call_in = timeValue(Number(timeline["call-in-time-hour"]), Number(timeline["call-in-time-minute"]))
            let distribute = timeValue(Number(timeline["distribute-time-hour"]), Number(timeline["distribute-time-minute"]))

            if (tn > call_in && called[0] == 0){
                announce("../../../server/database/sounds/call-in.mp3")
                called[0]++;
            }
            if (tn > distribute && called[1] == 0){
                announce("../../../server/database/sounds/distribute the papers.mp3")
                called[1]++;
            }
            if (called[2] == 0){
                called[2] += blastNearEnd(tn, te);
            }
            if (tn > ts && beginRunned == 0) {
                announce("../../../server/database/sounds/begin.mp3")
                document.getElementById("room-list").style.display = "none";
                beginRunned++;
            }
            else if (tn >= te) {
                return 1;
            }
            else {
                // console.log((tn-ts)/(te-ts)*1.0)
                return ((tn - ts) / (te - ts)) * 1.0;
            }
        }

        function startClock(start_hour, start_min, end_hour, end_min) {
            var element = document.getElementById("progress-bar");
            var width = 1;
            var identity = setInterval(scene, 500);
            function scene() {
                if (width >= 100) {
                    width = 100;
                    clearInterval(identity);
                    element.innerHTML = '<div id="progress" style="width: ' + 100 + '%;"></div>'
                    announce("../../../server/database/sounds/announcement (end).mp3")
                    document.getElementById("time-runout").style.display = "block"
                } else {
                    const today = new Date();
                    let h = today.getHours();
                    let m = today.getMinutes();
                    let s = today.getSeconds();
                    width = getDiff(start_hour, start_min, end_hour, end_min, h, m, s) * 100;
                    element.innerHTML = '<div id="progress" style="width: ' + width + '%;"></div>'
                }
            }
        }

        function writeTime(start_hour, start_min, end_hour, end_min) {
            document.getElementById("start").innerHTML = formatTime(start_hour, start_min);
            document.getElementById("end").innerHTML = formatTime(end_hour, end_min);

            startClock(start_hour, start_min, end_hour, end_min)
        }

        function check(i) {
            if (i < 10) return '0' + i;
            return i;
        }

        function startPermanentClock() {
            let id = setInterval(scene, 800);
            function scene() {
                const today = new Date();
                let h = today.getHours();
                let m = today.getMinutes();
                let s = today.getSeconds();
                document.getElementById("real-time").innerHTML = check(h) + ':' + check(m) + ':' + check(s);
            }
        }
        function renderAbsents() {
            document.getElementById("absent").innerHTML = ""
            for (let id in absents){
                document.getElementById("absent").innerHTML +=  "<span>" +id+ ": " + absents[id]+" </span> <br>"
            }
        }

        startPermanentClock()
        writeTime(1, 0, 1, 0)

        let ids = {};
        let activate = {};

        let rooms = document.getElementsByTagName("table").length;
        for (let room = 1; room <= rooms; room++) {
            ids["room_" + room] = [];
            activate["room_" + room] = [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false,];
            for (let i = 0; i < 24; i++) {
                ids["room_" + room].push(document.getElementById("room-" + room + "-cell-" + (i + 1)).textContent)
            }
        }

        for (let room = 1; room <= rooms; room++) {
            for (let i = 0; i < 24; i++) {
                let cell = document.getElementById("room-" + room + "-cell-" + (i + 1))
                cell.addEventListener("click", (e) => {
                    let obj;
                    if (e.target.tagName != "TD") obj = e.target.parentNode;
                    else obj = e.target;

                    let dis = activate["room_" + room][i];
                    if (activate["room_" + room][i] == false) activate["room_" + room][i] = true;
                    else if (activate["room_" + room][i] == true) activate["room_" + room][i] = false;
                    if (dis == false && ids["room_" + room][i] != "") {
                        obj.innerHTML = ids["room_" + room][i] + '<p> vắng <br> ' + names[ids["room_" + room][i]] + '</p>'
                        absents[ids["room_" + room][i]] = names[ids["room_" + room][i]];
                    }
                    else if (dis == true && ids["room_" + room][i] != "") {
                        obj.innerHTML = ids["room_" + room][i] + '<img src="../../../server/database/photos/' + ids["room_" + room][i] + '.jpg" alt="">'
                        delete absents[ids["room_" + room][i]]
                    }
                    renderAbsents();

                })
            }
        }

    </script>
</body>

</html>
    